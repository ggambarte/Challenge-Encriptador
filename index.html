<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/style.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <title>Challenge Encriptador</title>
</head>
<body>
    <header>
    </header>
    <main>
        <section class="contenido-logo">
            <img src="../images/Logo.png" alt="Logo de Alura" class="logo">
        </section>

        <section class="contenido-mensaje">
            <textarea name="mensaje" id="mensaje" cols="80" rows="10" class="mensaje" placeholder="ingrese el texto aquí..." autofocus></textarea>
            
            <div class="contenido-botones">
                <p class="advertencia">&#9888; solo letras minúsculas y sin acentos</p>
                <button id = "botonEncriptar" class="boton-encriptar">Encriptar</button>
                <button id ="botonDesencriptar" class="boton-desencriptar">Desencriptar</button>
            </div>
        </section>
            
        <section class="contenido-resultado">
            <div class="resultados" >
                
                <div class="muneco" id="divResultado">

                    <img class="munecoImg" src="./images/Muñeco.png" alt="El encriptador">
                    <h2 class="munecoTitulo">Ningún mensaje fue encontrado</h2>
                    <p class="munecoParrafo">Ingrese el texo que desees encriptar o desencriptar</p>
                    
                </div>
            </div>
        </section>
    </main>
    <footer>
            <p>Gonzalo Gambarte</p>
    </footer>

    <script>
        
        
        function encriptar() {
            // Reemplazamos el contido del resultado
            
            let divResultado = document.getElementById("divResultado");
            divResultado.innerHTML = `            
            <textarea name="textarea-resultado" id="textareaResultado" cols="80" rows="10" class="textarea-resultado"></textarea>
            <button id="botonCopiar" class="boton-copiar">Copiar</button> `
            
            let mensaje = document.getElementById("mensaje").value;
            
            let encriptado = mensaje; 
            encriptado = encriptado.replace(/e/g, 'enter');
            encriptado = encriptado.replace(/i/g, 'imes');
            encriptado = encriptado.replace(/a/g, 'ai');
            encriptado = encriptado.replace(/o/g, 'ober');
            encriptado = encriptado.replace(/u/g, 'ufat');      
            document.getElementById("textareaResultado").value = encriptado;
            
            // Le damos funcionalidad al boto copiar agregado

            function copiarTexto() {
            const texto = document.getElementById('textareaResultado').value;
            navigator.clipboard.writeText(texto);
            alert('Texto copiado al portapapeles');
        }

        const botonCopiar = document.getElementById("botonCopiar");
        botonCopiar.onclick = copiarTexto;


        }

        const botonEncriptar = document.getElementById("botonEncriptar");
        botonEncriptar.onclick = encriptar;



        function desencriptar() {
            // Reemplazamos el contido del resultado
            
            let divResultado = document.getElementById("divResultado");
            divResultado.innerHTML = `            
            <textarea name="textarea-resultado" id="textareaResultado" cols="80" rows="10" class="textarea-resultado"></textarea>
            <button id="botonCopiar" class="boton-copiar">Copiar</button> `

            
            let mensaje = document.getElementById("mensaje").value;
            let desencriptado = mensaje;        
            desencriptado = desencriptado.replace(/enter/g, "e");
            desencriptado = desencriptado.replace(/imes/g, "i");
            desencriptado = desencriptado.replace(/ai/g, "a");
            desencriptado = desencriptado.replace(/ober/g, "o");
            desencriptado = desencriptado.replace(/ufat/g, "u");        
            document.getElementById('textareaResultado').value = desencriptado;
            
            // Le damos funcionalidad al boto copiar agregado que se encuentra en el Inner

            function copiarTexto() {
            const texto = document.getElementById('textareaResultado').value;
            navigator.clipboard.writeText(texto);
            alert('Texto copiado al portapapeles');
        }

        const botonCopiar = document.getElementById("botonCopiar");
        botonCopiar.onclick = copiarTexto;


        }

        const botonDesencriptar = document.getElementById("botonDesencriptar");
        botonDesencriptar.onclick = desencriptar;


    </script>
    
</body>
</html>